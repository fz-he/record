“程序=数据结构+算法”

设计模式:
    最重要的思想就是解耦，通过接口来解耦。这样，如果将来需求变化，那么只需要提供一个新的实现类即可。

    主要的设计模式，其实都是面向对象的。因此，可以认为设计模式是面向对象的高级阶段。
    只有掌握了设计模式，才能认为是真正彻底掌握了面向对象设计技巧。

    学习一门新语言时（包括非面向对象语言，如函数式编程语言），总是会在了解了其语法后，
    看一下各类设计模式在这门语言中是如何实现的。这也是学习编程语言的一个窍门。

编程范式:
    面向对象编程范式
         早期编程语言都是面向过程的。就是顺序，条件，循环，构成一个个函数。随着代码规模的增大，人们发现有必要对代码进行模块化。
         一个概念对应的代码放在一个文件中，这样便于并发开发和进行代码管理。
         人们还发现了“程序=数据结构+算法”的规律。因此，一个概念对应的数据结构和函数应该放在一个文件中。这就是类的概念。
         面向对象编程范式，确实极大地提高了生产效率，因此得到了广泛的应用，因此在语言层面支持面向对象编程范式的语言是极多的。
         C语言尽管在语言层面上并不支持面向对象编程范式，但现代的C语言开发都会应用面向对象的模块化思想，
         把同一类的数据结构和函数放在一个文件中，采用类似的命名方式。
         C,C++,OC, JAVA
    函数式编程范式
        函数式编程范式，是一些数学家发明的编程语言，他们认为程序就是数学函数嘛。代表语言：Lisp,Erlang,JavaScript
        函数式编程语言，核心就是函数，它们没有Class类的概念。但它的函数又不是传统面向过程语言的函数，它的函数支持“闭包”的概念。
        面向对象编程语言，用类把“数据结构”和“算法”结合起来。类的核心是“数据结构”，也就是其“属性”，而不是“算法”，其“函数”。在类中，是函数依附于属性。
        而函数式编程语言，用闭包把“数据结构”和“算法”结合起来。是函数能够抓取外部的字段。是“属性”依附于“函数”。
        “类”本质上和“闭包”是等价的。现在很多面向对象编程语言都加上了对闭包的支持。观察其代码，我们可以发现，它们实际上都是用“类”来实现“闭包”的。
        “类”和“闭包”谁更易用？明显是“类”。
        而“闭包”更简洁一些，因此“闭包”在面向对象编程语言中常用来替换匿名类。只有一个函数的类，写成一个类太麻烦，不如写成闭包，更加简洁。

    模板编程范式
        模板编程，就是把类型作为参数，一套函数可以支持任意多种类型。代表语言：C++。
        模板编程的需求，是在C++开发容器库的时候发明的。因为容器需要保存任意类型的对象，因此就有了泛型的需求。



架构设计:
    1 分层
        表现层--UI部分
        接口层--后台服务的通讯接口部分
        服务层--实际服务部分
        存储层—-持久化存储部分，存储到文件或者数据库。

        分层的软件，可以解耦各个模块，支持并行开发，易于修改，易于提升性能。

    2 soa
        模块之间通过网络通讯互相连接，松耦合。每一个模块可以独立部署，可以增加部署实例从而提高性能。
        每一个模块可以使用不同的语言和平台开发，可以重用之前开发的服务。SOA，常用协议有WebService,REST,JSON-RPC等。

    3 性能瓶颈
        1）化同步为异步。

        2）用单机并行硬件处理。
             如，使用GPU，FPGA等硬件来处理，提高性能。

        3）用集群计算机来处理。
             如，Hadoop集群，用多台计算机来并行处理数据。
             自己的软件栈中，也可以把一个模块部署多份，并行处理。

        4）用cache来满足请求。常用的内容加热cache后，大量的用户请求都只是内存读取数据而已，性能会得到很大的提升。
              cache是上帝算法，记得好像它的性能只比最佳性能低一些，就好像你是上帝，能够预见未来一样。
              现在X86CPU遇到了主频限制，CPU提升性能的主要途径就是增加高速Cache了。

    4，大系统小做
        遇到大型系统不要慌，把它切分成多个模块，用多个小程序，通过SOA协作来解决。这秉承了Unix的设计思想。
        Unix上开发了大量单一目的的小程序，它主张用户通过管道来让多个小程序协作，解决用户的需求。
        当然，管道方式通讯限制太多，不够灵活。因此，现在我们可以通过URI,通过SOA的方式来让多个程序协作。
        Andorid和iOS上的应用程序，现在都是通过URI实现协作的。这也算是Unix设计思想的现代发展吧？！

    5，Sharding切片
        现在有一个潮流，就是去IOE。I-IBM大型机，O-Oracle数据库，E-EMC存储。
        之前，大型系统常用IOE去架构，在大型机上部署一个Oracle数据库，Oracle数据库用EMC存储保存数据。
        IOE是当今最强的计算机，数据库和存储。但他们面对海量系统也有抗不住的一天。

        Oracle数据库是Shareeverything的，它可以在一个计算机集群（服务器节点不能超过16个）上运行。计算机集群都共用一个存储。
        去IOE运动，标志着ShareEverything模式的破产。必须使用ShareNothing，系统才能无限扩展。
        用MySQL数据库就可以应付任意规模的数据了。前提是，你会Sharding分片。把大系统切分成若干个小系统，
        切分到若干台廉价服务器和存储上。更Modern一些，就是切分到大量虚拟机上。

        如，铁道部的12306网站。我们知道火车票都是从属于某一列列车的。那么我们把每一个列车作为一个单元来切分
        ，就可以把12306网站切分成几千个模块。一台虚拟机可以承载若干个模块。当某些列车成为性能瓶颈之后，
        就可以把它们迁移到独立的虚拟机上。即使最终有部分列出服务不可用，系统也不会完全不可用。

        12306网站，只有一个全局的部分，就是用户登录。这个可以交给第三方负责。如可以让用户用微信，微博，qq等账户登录。
        也可以自己实现用户登录服务。还是用切片的方式用多台Redis服务器提供服务。Redis服务器存储每一个登录用户的sessionId和userId，
        角色，权限等信息。sessionId是随机生成的，可选择其部分bit用于标识它在哪一个Redis服务器上。用户登录后，把sessionId发给客户。
        用户每次请求时把sessionId发回给服务器。服务器把sessionId发给Redis服务器查询得到其用户信息，对用户请求进行处理。
        如果在redis服务器上找不到sessionId，则让用户去登录。即使所有注册用户同时登陆，
        也不需要太多的内存。而且，可以在session内存过多时，删除最早登陆的用户的session，强制他再次登陆。同时活跃的用户数不会太多。


领域知识:
    存储----块设备，文件系统，集群文件系统，分布式文件系统，光纤SCSI，iSCSI，RAID等。

    网络----以太网，光纤网，蜂窝网络，WIFI，VLAN等。

    计算机体系结构，主要就是CPU指令集。x86,ARM等。

    USB协议。需要知道URB包。

    PCI协议，PCI-E协议。现代计算机的外设都是PCI协议和PCI-E协议的。显卡现在全是通过 PCI-E协议连接到计算机上的。相对来说减少了很多需要学习的知识。搞虚拟化就需要深入掌握PCI协议。

    图像处理--图像压缩，视频实时编码等。
    3D游戏

    关系数据库

    NoSQL数据库

    操作系统

    分布式操作系统

    编译原理

    机器学习--现在大数据要用哦！

   了解这些领域知识，也包括了解该领域现有的商用硬件、商用软件和开源软件。很多时候，你要完成的工作，
   已经有现成的工具了。你只要使用现成的工具就可以完成任务，不需要进行开发。有时候，只需要组合现有的工具，写一些脚本就可以完成任务。



编程能力可分为两个维度：一个是编程技能水平，另一个是领域知识水平。
   有些程序员可能把精力都花在提升编程技能上了，领域知识知之甚少，
   这其实在日常工作中也是极其有害的。有些需求可能早已经有了现成、开源免费的解决方案，
   或者只需要组合几个现有软件就可以快速搞定，而他们却不得不自己花大量时间去开发。
   另外，缺少领域知识，在程序出现非预期状况时，很难快速定位到问题的根源，很难解决bug。


